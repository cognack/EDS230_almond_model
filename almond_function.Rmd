---
title: "Assignment 2: Almond Function"
author: "Steven Cognac, Marie Rivers, Bri Baker"
date: "4/7/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(here)
```

```{r climate_data}
# import climate data hosted on Namoi Tague's github
clim <- read.csv("https://raw.githubusercontent.com/naomitague/ESM232_Examples/main/Data/clim.txt", sep = " ", header=TRUE)
```

## Use Model
```{r}

# import function 
source(here("R", "almond_yield_anom.R"))

# run function using climate data
almond_yield_anomaly1 <- almond_yield_anom(climate_data = clim)
```

```{r}

# pull yield anomoly for years of interest
anom_2000 <- almond_yield_anomaly1$almond_yield_anom_tons_per_acre[almond_yield_anomaly1$year == 2000]
anom_2001 <- almond_yield_anomaly1$almond_yield_anom_tons_per_acre[almond_yield_anomaly1$year == 2001]
anom_2002 <- almond_yield_anomaly1$almond_yield_anom_tons_per_acre[almond_yield_anomaly1$year == 2002]

# print values
anom_2000
anom_2001
anom_2002
```

## Summary of Outputs

```{r}

# plot almond yield
ggplot(data = almond_yield_anomaly1, aes(x = year, y = almond_yield_anom_tons_per_acre)) + 
  geom_point() +
  labs(title = "Almond Yield Anomaly",
       y = "tons/acre")
```


